<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å</h1>

    <form id="bookingForm">
        <div>
            <label for="fullname">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•:</label>
            <input type="text" id="fullname" name="fullname" required>
        </div>

        <div>
            <label for="email">‡∏≠‡∏µ‡πÄ‡∏°‡∏•:</label>
            <input type="email" id="email" name="email" required>
        </div>

        <div>
            <label for="phone">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå:</label>
            <input type="tel" id="phone" name="phone" required>
        </div>

        <div>
            <label for="checkin">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô:</label>
            <input type="date" id="checkin" name="checkin" required>
        </div>

        <div>
            <label for="checkout">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå:</label>
            <input type="date" id="checkout" name="checkout" required>
        </div>

        <div>
            <label for="roomtype">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å:</label>
            <select id="roomtype" name="roomtype" required>
                <option value="">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å</option>
                <option value="standard">‡∏´‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô</option>
                <option value="deluxe">‡∏´‡πâ‡∏≠‡∏á‡∏î‡∏µ‡∏•‡∏±‡∏Å‡∏ã‡πå</option>
                <option value="suite">‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏ß‡∏µ‡∏ó</option>
            </select>
        </div>

        <div>
            <label for="guests">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å:</label>
            <input type="number" id="guests" name="guests" min="1" max="4" required>
        </div>

        <button type="submit">‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å</button>
    </form>
    <script>
        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏õ‡πá‡∏ô Arrow Function ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ü‡∏µ‡πâ‡∏¢‡∏ß!

        // 1. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å (‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì)
        const roomPrices = { standard: 1200, deluxe: 2500, suite: 4500 };

        // 2. ‡πÅ‡∏≠‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á Element ‡πÇ‡∏ä‡∏ß‡πå‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡πÅ‡∏ö‡∏ö‡∏´‡∏•‡πà‡∏≠‡πÜ ‡∏î‡πâ‡∏ß‡∏¢ JS ‡πÅ‡∏ó‡∏£‡∏Å‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏° Submit
        const priceDisplay = document.createElement('div');
        priceDisplay.style.cssText = 'font-size: 1.2em; color: #db7a39; font-weight: bold; text-align: center; margin-top: 10px; margin-bottom: 15px; transition: 0.3s;';
        document.getElementById('bookingForm').insertBefore(priceDisplay, document.querySelector('button[type="submit"]'));

        // 3. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏ö‡∏ö Real-time
        const updatePrice = () => {
            const checkin = new Date(document.getElementById('checkin').value);
            const checkout = new Date(document.getElementById('checkout').value);
            const room = document.getElementById('roomtype').value;

            // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏£‡∏ö ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
            if (checkin && checkout && checkout > checkin && room) {
                const days = Math.ceil((checkout - checkin) / (1000 * 60 * 60 * 24));
                const total = days * roomPrices[room];
                priceDisplay.innerHTML = `üí∏ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì: ‡∏ø${total.toLocaleString()} (${days} ‡∏Ñ‡∏∑‡∏ô)`;
            } else {
                priceDisplay.innerHTML = '';
            }
        };

        // ‡∏à‡∏±‡∏ö Event ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏ö‡∏ö Real-time
        ['checkin', 'checkout', 'roomtype'].forEach(id => {
            document.getElementById(id).addEventListener('change', updatePrice);
        });

        // 4. ‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå‡πÑ‡∏î‡πâ‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 10 ‡∏´‡∏•‡∏±‡∏Å (‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Å‡∏±‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏î‡πã‡∏≠)
        document.getElementById('phone').addEventListener('input', (e) => {
            e.target.value = e.target.value.replace(/[^0-9]/g, '').slice(0, 10);
        });

        // 5. ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ô‡∏Å‡∏î‡∏à‡∏≠‡∏á (Main Submit Event)
        document.getElementById('bookingForm').addEventListener('submit', (e) => {
            e.preventDefault();

            const checkinVal = document.getElementById('checkin').value;
            const checkoutVal = document.getElementById('checkout').value;

            const checkin = new Date(checkinVal);
            const checkout = new Date(checkoutVal);

            // ‡πÅ‡∏Å‡πâ‡∏ö‡∏±‡πä‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πä‡∏∞ ‡πÑ‡∏°‡πà‡∏ö‡∏•‡πá‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            if (checkin < today) return alert('‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤');
            if (checkout <= checkin) return alert('‚ùå ‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏ß‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô');

            const phone = document.getElementById('phone').value;
            if (phone.length !== 10) return alert('üì± ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö 10 ‡∏´‡∏•‡∏±‡∏Å');

            const days = Math.ceil((checkout - checkin) / (1000 * 60 * 60 * 24));
            const roomtype = document.getElementById('roomtype');
            const roomtypeText = roomtype.options[roomtype.selectedIndex].text;
            const total = days * roomPrices[roomtype.value];

            // ‡πÉ‡∏™‡πà Emoji ‡πÉ‡∏´‡πâ Alert ‡∏î‡∏π‡∏ô‡πà‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô (‡πÄ‡∏ü‡∏µ‡πâ‡∏¢‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á)
            const summary = `
üßæ ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:
------------------------
üë§ ‡∏ä‡∏∑‡πà‡∏≠: ${document.getElementById('fullname').value}
üõèÔ∏è ‡∏´‡πâ‡∏≠‡∏á: ${roomtypeText}
üìÖ ‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô: ${checkin.toLocaleDateString('th-TH')}
üìÖ ‡πÄ‡∏ä‡πá‡∏Ñ‡πÄ‡∏≠‡∏≤‡∏ó‡πå: ${checkout.toLocaleDateString('th-TH')}
üåô ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: ${days} ‡∏Ñ‡∏∑‡∏ô
üë• ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å: ${document.getElementById('guests').value} ‡∏ó‡πà‡∏≤‡∏ô
üí∞ ‡∏¢‡∏≠‡∏î‡∏ä‡∏≥‡∏£‡∏∞: ‡∏ø${total.toLocaleString()}
------------------------
    `;

            if (confirm(summary + '\n‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                alert('üéâ ‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏±‡∏ö!');
                e.target.reset(); // ‡∏•‡πâ‡∏≤‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
                priceDisplay.innerHTML = ''; // ‡∏•‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤
            }
        });

        // 6. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô (‡πÉ‡∏ä‡πâ Arrow Function ‡πÉ‡∏´‡πâ‡∏´‡∏°‡∏î)
        document.getElementById('checkin').addEventListener('change', (e) => {
            document.getElementById('checkout').min = e.target.value;
        });

        document.getElementById('roomtype').addEventListener('change', (e) => {
            const guestsInput = document.getElementById('guests');
            // ‡πÉ‡∏ä‡πâ Object Mapping ‡πÄ‡∏ó‡πà‡πÜ ‡πÅ‡∏ó‡∏ô if-else ‡∏¢‡∏≤‡∏ß‡πÜ
            const maxGuests = { 'standard': 2, 'deluxe': 3, 'suite': 4 }[e.target.value] || 4;

            guestsInput.max = maxGuests;
            if (guestsInput.value > maxGuests) guestsInput.value = maxGuests;
        });
    </script>

</body>

</html>